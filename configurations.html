<!DOCTYPE html>
<html lang="en_US">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <meta name="author" content="Jerry Chaos" />
    <meta name="applicable-device" content="pc,pad,mobile" />
    <meta name="referrer" content="always" />
    <title>Jerry Chaos</title>
    <link href="./favicon.ico" rel="shortcut icon">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="textarea-outer">
        <div class="textarea-head">
            <div class="textarea-caption">
                <!-- $HOME/.gitignore -->
            </div>
            <div class="textarea-buttons">
                <div role="button" onclick="copyToClipboard('gitconfig')">
                    <span>COPY</span>
                </div>
                <div role="button" onclick="downloadText('gitconfig', 'gitconfig.txt')">
                    <span>DLOWNLOAD</span>
                </div>
            </div>
        </div>
        <textarea class="textarea" spellcheck="false" id="gitconfig" oninput="resizeTextarea(this)"
            placeholder="select software above ..."></textarea>
    </div>
    <div style="height: 20px;"></div>
    <div class="textarea-outer">
        <div class="textarea-head">
            <div class="textarea-caption">
                <!-- $HOME/Documents/PowerShell/Microsoft.PowerShell_profile.ps1 -->
            </div>
            <div class="textarea-buttons">
                <div role="button" onclick="copyToClipboard('powershell_profile')">
                    <span>COPY</span>
                </div>
                <div role="button" onclick="downloadText('powershell_profile', 'Microsoft.PowerShell_profile.txt')">
                    <span>DLOWNLOAD</span>
                </div>
            </div>
        </div>
        <textarea class="textarea" spellcheck="false" id="powershell_profile" oninput="resizeTextarea(this)"
            placeholder="select software above ..."></textarea>
    </div>
</body>

<script>
    console.log("Hello Jerry!");
    const AA = `# change file name to ".gitignore" and then move to $HOME folder.

[user]
    name = JerryChaos
    email = jerry-chaos@outlook.com
[alias]
    st=status -sb
    ci=commit
    cia=commit --amend
    co=checkout
    ss=show --stat
    ft=fetch
    br=branch
    df=diff
    dfc=diff --cached
    dft=difftool
    rh=reset --hard
    cp=cherry-pick
    ai=add -i
    au=add -u
    aA=add -A
    sb=show-branch
    sw=switch
    rb=rebase
    lg=log --decorate --graph -10 --oneline
    lgs=log --decorate --graph -10 --oneline --stat
    lgp=log --decorate --graph -10 --oneline -p
    lga=log --decorate --graph -10 --oneline --all
    lgas=log --decorate --graph -10 --oneline --all --stat
    lgsa=log --decorate --graph -10 --oneline --all --stat
[filter "lfs"]
    clean = git-lfs clean -- %f
    smudge = git-lfs smudge -- %f
    process = git-lfs filter-process
    required = true
`;
    const BB = `# change file name to "Microsoft.PowerShell_profile.ps1" and then move this file to $HOME\\Documents\\PowerShell\\

# global hot-key
function custom_function{
    echo ============================================================
    echo "Custom Function Triggered!"
    echo ============================================================
}

# Set-Alias customCall custom_function
Set-Alias vim nvim
Set-Alias vi nvim
Set-Alias v nvim

Set-PSReadLineKeyHandler -Key "Ctrl+p" -Function HistorySearchBackward
Set-PSReadLineKeyHandler -Key "Ctrl+n" -Function HistorySearchForward

# Import-Module posh-git
# oh-my-posh init pwsh --config "$env:POSH_THEMES_PATH\zash.omp.json" | Invoke-Expression
`;
    function copyToClipboard(elementId) {
        var copyText = document.getElementById(elementId);
        copyText.select();
        copyText.setSelectionRange(0, 99999); // For mobile devices
        document.execCommand("copy");
    }

    function downloadText(elementId, fileName) {
        const content = document.getElementById(elementId).value;
        const blob = new Blob([content], { type: 'text/plain' });
        const url = window.URL.createObjectURL(blob);

        const a = document.createElement('a');
        a.href = url;
        a.download = fileName;
        a.click();

        window.URL.revokeObjectURL(url);
    }

    function resizeTextarea(elem) {
        const _parentElem = elem.parentElement;
        _parentElem.style.height = "auto";
        elem.style.height = "auto";
        const _height = elem.scrollHeight;
        _parentElem.style.height = _height + 18 + 'px';
        elem.style.height = _height + 'px';
    }

    function resizeAll() {
        const el = document.getElementById('gitconfig');
        if (el) resizeTextarea(el);
        const el2 = document.getElementById('powershell_profile');
        if (el2) resizeTextarea(el2);
    }


    window.onload = () => {
        const el = document.getElementById('gitconfig');
        if (el) {
            el.innerHTML = AA;
            resizeTextarea(el);
        }
        const el2 = document.getElementById('powershell_profile');
        if (el2) {
            el2.innerHTML = BB;
            resizeTextarea(el2);
        }
    };

    window.onresize = () => {
        resizeAll();
    }
</script>

</html>